graph TB
    subgraph "Frontend Layer"
        UI[Streamlit App<br/>­ЪЊ▒ Interactive UI]
        PBI[Power BI Dashboards<br/>­ЪЊі Executive Reports]
        API_CLIENT[API Clients<br/>­Ъћї External Integrations]
    end
    
    subgraph "API Gateway"
        GATEWAY[API Gateway / Load Balancer<br/>­Ъџф Single Entry Point<br/>Рђб Rate Limiting<br/>Рђб Authentication<br/>Рђб Load Balancing]
    end
    
    subgraph "Application Layer"
        PRED_API[Prediction API<br/>­Ъј» ML Predictions<br/>Рђб Individual Scoring<br/>Рђб Batch Processing<br/>Рђб Altman Z-Score]
        ALERT_SVC[Alerting Service<br/>­Ъџе Smart Alerts<br/>Рђб Rule Engine<br/>Рђб Multi-channel<br/>Рђб Escalation]
        TRAIN_SVC[Training Service<br/>­ЪДа ML Training<br/>Рђб XGBoost Models<br/>Рђб Hyperparameter Tuning<br/>Рђб Model Validation]
        PREPROC_SVC[Preprocessing Service<br/>РџЎ№ИЈ Data Processing<br/>Рђб Feature Engineering<br/>Рђб Data Cleaning<br/>Рђб Ratio Calculation]
        INGEST_SVC[Data Ingestion Service<br/>­ЪЊЦ Data Collection<br/>Рђб API Integration<br/>Рђб Data Validation<br/>Рђб ETL Pipelines]
    end
    
    subgraph "Data Layer"
        POSTGRES[(PostgreSQL<br/>­ЪЌё№ИЈ Primary Database<br/>Рђб Companies<br/>Рђб Financial Data<br/>Рђб Predictions<br/>Рђб Models)]
        REDIS[(Redis Cache<br/>РџА In-Memory Cache<br/>Рђб Prediction Cache<br/>Рђб Session Store<br/>Рђб Rate Limiting)]
        S3[(Object Storage<br/>­ЪЊд File Storage<br/>Рђб ML Models<br/>Рђб Training Data<br/>Рђб Backups<br/>Рђб Logs)]
    end
    
    subgraph "External Services"
        SMTP[SMTP Server<br/>­ЪЊД Email Alerts]
        SLACK[Slack API<br/>­Ъњг Team Notifications]
        TEAMS[Teams API<br/>­ЪЉЦ Corporate Alerts]
        POWERBI_API[Power BI API<br/>­ЪЊѕ BI Integration]
        DATA_APIS[Financial Data APIs<br/>­Ъњ░ Market Data<br/>Рђб Alpha Vantage<br/>Рђб FRED<br/>Рђб Quandl]
    end
    
    subgraph "Infrastructure"
        MONITORING[Monitoring Stack<br/>­ЪЊі Observability<br/>Рђб Prometheus<br/>Рђб Grafana<br/>Рђб Health Checks]
        LOGGING[Centralized Logging<br/>­ЪЊЮ Log Management<br/>Рђб ELK Stack<br/>Рђб Structured Logs<br/>Рђб Audit Trail]
        SCHEDULER[Task Scheduler<br/>РЈ░ Automation<br/>Рђб Airflow/Cron<br/>Рђб Model Training<br/>Рђб Data Ingestion]
    end
    
    %% Frontend to Gateway
    UI --> GATEWAY
    PBI --> GATEWAY
    API_CLIENT --> GATEWAY
    
    %% Gateway to Services
    GATEWAY --> PRED_API
    GATEWAY --> ALERT_SVC
    GATEWAY --> TRAIN_SVC
    
    %% Services to Data Layer
    PRED_API --> POSTGRES
    PRED_API --> REDIS
    ALERT_SVC --> POSTGRES
    TRAIN_SVC --> POSTGRES
    TRAIN_SVC --> S3
    PREPROC_SVC --> POSTGRES
    INGEST_SVC --> POSTGRES
    
    %% External Integrations
    ALERT_SVC --> SMTP
    ALERT_SVC --> SLACK
    ALERT_SVC --> TEAMS
    PBI --> POWERBI_API
    INGEST_SVC --> DATA_APIS
    
    %% Infrastructure
    SCHEDULER --> TRAIN_SVC
    SCHEDULER --> INGEST_SVC
    SCHEDULER --> ALERT_SVC
    
    MONITORING --> PRED_API
    MONITORING --> ALERT_SVC
    MONITORING --> TRAIN_SVC
    MONITORING --> PREPROC_SVC
    MONITORING --> INGEST_SVC
    
    LOGGING --> PRED_API
    LOGGING --> ALERT_SVC
    LOGGING --> TRAIN_SVC
    LOGGING --> PREPROC_SVC
    LOGGING --> INGEST_SVC
    
    %% Styling
    classDef frontend fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef gateway fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef service fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef data fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef external fill:#fce4ec,stroke:#880e4f,stroke-width:2px
    classDef infra fill:#f1f8e9,stroke:#33691e,stroke-width:2px
    
    class UI,PBI,API_CLIENT frontend
    class GATEWAY gateway
    class PRED_API,ALERT_SVC,TRAIN_SVC,PREPROC_SVC,INGEST_SVC service
    class POSTGRES,REDIS,S3 data
    class SMTP,SLACK,TEAMS,POWERBI_API,DATA_APIS external
    class MONITORING,LOGGING,SCHEDULER infra

