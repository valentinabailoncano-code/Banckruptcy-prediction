# =====================================================
# SISTEMA DE PREDICCIÓN DE QUIEBRAS EMPRESARIALES
# Archivo de Variables de Entorno - EJEMPLO
# =====================================================
# 
# Copie este archivo como .env y configure los valores apropiados
# para su entorno específico.
#
# IMPORTANTE: Nunca commite el archivo .env real al control de versiones
# ya que contiene información sensible como contraseñas y claves API.

# =====================================================
# CONFIGURACIÓN GENERAL
# =====================================================
ENVIRONMENT=development
DEBUG=True
APP_VERSION=1.0.0

# =====================================================
# CONFIGURACIÓN DE BASE DE DATOS
# =====================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=bankruptcy_prediction
DB_USER=postgres
DB_PASSWORD=your_secure_password_here
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# =====================================================
# CONFIGURACIÓN DEL MODELO DE MACHINE LEARNING
# =====================================================
# Umbrales de clasificación de riesgo
MODEL_THRESHOLD_MEDIUM=0.15
MODEL_THRESHOLD_HIGH=0.30

# Peso del modelo ML en el score blended (0.0 = solo Altman, 1.0 = solo ML)
MODEL_BLEND_WEIGHT=0.7

# Archivos del modelo
MODEL_FILE=model_calibrated.pkl
FEATURES_FILE=feature_list.pkl
SCALER_FILE=scaler.pkl

# Parámetros de entrenamiento
MODEL_TEST_SIZE=0.2
MODEL_VALIDATION_SIZE=0.2
MODEL_RANDOM_STATE=42

# Parámetros XGBoost
XGB_N_ESTIMATORS=100
XGB_MAX_DEPTH=6
XGB_LEARNING_RATE=0.1
XGB_SUBSAMPLE=0.8
XGB_COLSAMPLE_BYTREE=0.8
XGB_N_JOBS=-1

# Parámetros SMOTE para balanceo de clases
SMOTE_SAMPLING_STRATEGY=0.5
SMOTE_K_NEIGHBORS=5

# =====================================================
# CONFIGURACIÓN DE LA API DE PREDICCIÓN
# =====================================================
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=False
API_WORKERS=4

# CORS (Cross-Origin Resource Sharing)
CORS_ORIGINS=*

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# Timeouts
REQUEST_TIMEOUT=30

# Autenticación (opcional)
ENABLE_AUTH=False
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRATION_HOURS=24

# =====================================================
# CONFIGURACIÓN DE STREAMLIT
# =====================================================
STREAMLIT_HOST=0.0.0.0
STREAMLIT_PORT=8501
STREAMLIT_CACHE_TTL=3600

# Configuración de UI
STREAMLIT_PAGE_TITLE=Sistema de Predicción de Quiebras
STREAMLIT_PAGE_ICON=📉
STREAMLIT_LAYOUT=wide

# Límites de datos
MAX_PORTFOLIO_SIZE=10000
MAX_FILE_SIZE_MB=50

# =====================================================
# CONFIGURACIÓN DEL SISTEMA DE ALERTAS
# =====================================================
# Configuración de Email (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password_here
SMTP_USE_TLS=True

# Configuración de Slack
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#alerts

# Configuración de Microsoft Teams
TEAMS_WEBHOOK_URL=https://your-tenant.webhook.office.com/webhookb2/YOUR-TEAMS-WEBHOOK

# Frecuencia y límites de alertas
ALERT_FREQUENCY_HOURS=24
MAX_ALERTS_PER_BATCH=50
ALERT_THRESHOLD_HIGH=0.30
ALERT_THRESHOLD_DETERIORATION=0.10

# =====================================================
# CONFIGURACIÓN DE POWER BI
# =====================================================
# Azure AD Configuration para Power BI
POWERBI_TENANT_ID=your-azure-tenant-id
POWERBI_CLIENT_ID=your-powerbi-client-id
POWERBI_CLIENT_SECRET=your-powerbi-client-secret

# Power BI Workspace y Dataset
POWERBI_WORKSPACE_ID=your-powerbi-workspace-id
POWERBI_DATASET_ID=your-powerbi-dataset-id

# Configuración de refresh automático
POWERBI_AUTO_REFRESH=False
POWERBI_REFRESH_FREQUENCY=6

# =====================================================
# CONFIGURACIÓN DE LOGGING
# =====================================================
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOG_MAX_FILE_SIZE_MB=10
LOG_BACKUP_COUNT=5
LOG_TO_DATABASE=False

# =====================================================
# CONFIGURACIÓN DE DATOS
# =====================================================
# APIs externas para datos macroeconómicos
FRED_API_KEY=your_fred_api_key_here
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_key_here
QUANDL_API_KEY=your_quandl_api_key_here

# Retención de datos
DATA_RETENTION_RAW_DAYS=365
DATA_RETENTION_PROCESSED_DAYS=1095

# Validación de datos
ENABLE_DATA_VALIDATION=True
MAX_MISSING_RATIO=0.3

# =====================================================
# CONFIGURACIÓN DE SEGURIDAD
# =====================================================
# Clave de encriptación (genere una clave segura para producción)
ENCRYPTION_KEY=your-encryption-key-change-in-production

# Configuración de sesiones
SESSION_TIMEOUT_MINUTES=60

# Auditoría
ENABLE_AUDIT_LOG=True

# Control de acceso por IP (separar con comas, dejar vacío para permitir todas)
ALLOWED_IPS=

# Headers de seguridad
ENABLE_SECURITY_HEADERS=True

# =====================================================
# CONFIGURACIÓN ESPECÍFICA POR ENTORNO
# =====================================================

# Para entorno de desarrollo
# DEBUG=True
# LOG_LEVEL=DEBUG
# API_DEBUG=True

# Para entorno de staging
# ENVIRONMENT=staging
# DEBUG=False
# LOG_LEVEL=INFO

# Para entorno de producción
# ENVIRONMENT=production
# DEBUG=False
# LOG_LEVEL=WARNING
# ENABLE_AUTH=True
# ENABLE_SECURITY_HEADERS=True
# POWERBI_AUTO_REFRESH=True

# =====================================================
# NOTAS IMPORTANTES
# =====================================================
#
# 1. Cambie todas las contraseñas y claves secretas por valores seguros
# 2. Para Gmail, use contraseñas de aplicación en lugar de su contraseña regular
# 3. Las claves API deben obtenerse de los proveedores respectivos
# 4. En producción, considere usar un gestor de secretos como Azure Key Vault
# 5. Asegúrese de que el archivo .env tenga permisos restrictivos (600)
# 6. Nunca incluya el archivo .env en el control de versiones
#
# =====================================================

